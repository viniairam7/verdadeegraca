<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Verdade & Gra√ßa</title>

<style>
body {
  margin: 0;
  background: #0e0e0e;
  color: #f5f5f5;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
}

header {
  text-align: center;
  padding: 16px;
}

h1 {
  color: #d6b45a;
  margin-bottom: 4px;
}

.subtitle {
  font-size: 14px;
  opacity: 0.8;
}

.buttons {
  display: grid;
  gap: 10px;
  padding: 0 16px;
}

button {
  background: #1c1c1c;
  border: 1px solid #2a2a2a;
  color: #d6b45a;
  padding: 14px;
  border-radius: 14px;
  font-size: 15px;
}

.chat {
  padding: 12px 16px;
}

.msg {
  max-width: 85%;
  padding: 12px;
  border-radius: 14px;
  margin-bottom: 10px;
  font-size: 15px;
  line-height: 1.4;
}

.user {
  background: #1f3b2c;
  align-self: flex-end;
}

.bot {
  background: #181818;
  border-left: 4px solid #3fa97c;
}

.copy {
  margin-top: 6px;
  font-size: 13px;
  color: #d6b45a;
  cursor: pointer;
}

.input-box {
  position: sticky;
  bottom: 0;
  display: flex;
  gap: 8px;
  padding: 10px;
  background: #0e0e0e;
}

textarea {
  flex: 1;
  border-radius: 12px;
  border: none;
  padding: 12px;
  resize: none;
}

.send {
  background: #d6b45a;
  border: none;
  border-radius: 12px;
  padding: 0 18px;
  font-weight: bold;
}
</style>
</head>

<body>

<header>
  <h1>Verdade & Gra√ßa</h1>
  <div class="subtitle">Tudo deve ser examinado √† luz da Palavra</div>
</header>

<div class="buttons">
  <button onclick="quick('noticias')">üì∞ Not√≠cias do dia</button>
  <button onclick="quick('devocional')">üìñ Devocional de hoje</button>
  <button onclick="quick('jesus')">‚úùÔ∏è O que Jesus faria?</button>
</div>

<div class="chat" id="chat"></div>

<div class="input-box">
  <textarea id="text" rows="1" placeholder="Digite sua d√∫vida b√≠blica..."></textarea>
  <button class="send" onclick="send()">Enviar</button>
</div>

<script>
const API = "https://verdadeegraca.onrender.com/api/ask";
const chat = document.getElementById("chat");

function add(text, cls) {
  const div = document.createElement("div");
  div.className = "msg " + cls;
  div.innerHTML = text;

  if (cls === "bot") {
    const c = document.createElement("div");
    c.className = "copy";
    c.innerText = "üìã Copiar";
    c.onclick = () => navigator.clipboard.writeText(text);
    div.appendChild(c);
  }

  chat.appendChild(div);
  window.scrollTo(0, document.body.scrollHeight);
}

async function ask(payload) {
  add(payload.message || "...", "user");

  const res = await fetch(API, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(payload)
  });

  const data = await res.json();
  add(data.reply, "bot");
}

function quick(type) {
  ask({ type });
}

function send() {
  const text = document.getElementById("text");
  if (!text.value) return;
  ask({ type: "chat", message: text.value });
  text.value = "";
}
</script>

</body>
</html>
